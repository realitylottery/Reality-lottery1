<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RealityLottery - Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
    body { background:#000; color:#fff; text-align:center; min-height:100vh; display:flex; flex-direction:column; }

    header { padding:15px; background:#111; border-bottom:2px solid #ffd700; display:flex; justify-content:space-between; align-items:center; }
    .logo { font-size:26px; font-weight:bold; color:#ffd700; letter-spacing:1px; }
    .auth-buttons a, .auth-buttons span, .auth-buttons button {
      margin-left:15px; color:#ffd700; text-decoration:none; font-weight:bold;
      background:none; border:none; cursor:pointer;
    }
    .auth-buttons button:hover, .auth-buttons a:hover { color:#ffa500; }

    .hero { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 20px; }
    .hero h1 { font-size:38px; color:#ffd700; margin-bottom:20px; }
    .hero p { font-size:18px; color:#ccc; max-width:700px; line-height:1.6; }

    .cta-buttons { margin-top:30px; display:flex; gap:20px; flex-wrap:wrap; justify-content:center; }
    .cta-buttons a {
      padding:12px 25px; background:linear-gradient(45deg,#ffd700,#ffa500);
      color:#000; border-radius:8px; font-weight:bold; text-decoration:none;
      transition:all .3s ease; box-shadow:0 4px 10px rgba(255,215,0,0.3);
    }
    .cta-buttons a:hover { transform:translateY(-3px); box-shadow:0 6px 15px rgba(255,215,0,0.5); }

    footer {
      position:fixed; bottom:0; left:0; right:0;
      background:#111; border-top:2px solid #ffd700;
      padding:10px 0; display:flex; justify-content:space-around; align-items:center;
    }
    footer a { color:#ffd700; text-decoration:none; font-size:14px; font-weight:bold; display:flex; flex-direction:column; align-items:center; }
    footer a i { font-size:18px; margin-bottom:4px; }
    footer a:hover { color:#ffa500; }
  </style>
</head>
<body>
  <header>
    <div class="logo">RealityLottery</div>
    <div class="auth-buttons">
      <a href="login.html" id="loginBtn">Login</a>
      <a href="register.html" id="registerBtn">Register</a>
      <span id="userInfo" style="display:none;"></span>
      <button id="logoutBtn" style="display:none;">Logout</button>
    </div>
  </header>

  <section class="hero">
    <h1>Welcome to RealityLottery</h1>
    <p>
      Join our exciting lottery platform where every subscription increases your chances to win amazing rewards!  
      Invite friends, earn referral bonuses, and be part of the ultimate lottery experience.  
    </p>
    <div id="banner-slider" style="display:flex;overflow-x:auto;gap:10px;"></div>

<script>
fetch("/api/banners")
  .then(res => res.json())
  .then(data => {
    const container = document.getElementById("banner-slider");
    data.banners.forEach(b => {
      const div = document.createElement("div");
      div.style.minWidth = "250px";
      div.style.background = "#222";
      div.style.color = "white";
      div.style.padding = "10px";
      div.innerHTML = `
        <img src="${b.image}" style="width:100%;border-radius:10px;">
        <h3>${b.title || ""}</h3>
        <p>${b.description || ""}</p>
        ${b.buttonText ? `<a href="${b.buttonLink}" style="color:gold;">${b.buttonText}</a>` : ""}
      `;
      container.appendChild(div);
    });
  });
</script>
  </section>

  <footer>
    <a href="index.html"><i class="fas fa-home"></i>Home</a>
    <a href="news.html"><i class="fas fa-newspaper"></i>News</a>
    <a href="withdrawal.html"><i class="fas fa-wallet"></i>Withdrawal</a>
    <a href="profile.html"><i class="fas fa-user"></i>Profile</a>
  </footer>

<script>
  const API_BASE = 'https://realitylottery.koyeb.app';

  // ======== Auth UI Handler ========
  (function(){
    const token = localStorage.getItem('rl_token');
    const user = localStorage.getItem('rl_user') ? JSON.parse(localStorage.getItem('rl_user')) : null;
    const loginBtn = document.getElementById('loginBtn');
    const registerBtn = document.getElementById('registerBtn');
    const userInfo = document.getElementById('userInfo');
    const logoutBtn = document.getElementById('logoutBtn');

    if (token && user) {
      loginBtn.style.display = 'none';
      registerBtn.style.display = 'none';
      userInfo.style.display = 'inline';
      userInfo.textContent = user.username || user.fullName || "User";
      logoutBtn.style.display = 'inline';
      logoutBtn.addEventListener('click', (e)=>{
        e.preventDefault();
        localStorage.clear();
        location.reload();
      });
    }
  })();
</script>
</body>
</html>
