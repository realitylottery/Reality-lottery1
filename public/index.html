<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RealityLottery - Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
    body { background:#000; color:#fff; text-align:center; min-height:100vh; display:flex; flex-direction:column; }

    header { padding:20px; background:#111; border-bottom:2px solid #ffd700; }
    .logo { font-size:32px; font-weight:bold; color:#ffd700; letter-spacing:2px; }
    nav { margin-top:10px; }
    nav a { margin:0 15px; color:#ffd700; text-decoration:none; font-weight:bold; }
    nav a:hover { text-decoration:underline; }

    .hero { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 20px; }
    .hero h1 { font-size:38px; color:#ffd700; margin-bottom:20px; }
    .hero p { font-size:18px; color:#ccc; max-width:700px; line-height:1.6; }

    .cta-buttons { margin-top:30px; display:flex; gap:20px; flex-wrap:wrap; justify-content:center; }
    .cta-buttons a {
      padding:12px 25px; background:linear-gradient(45deg,#ffd700,#ffa500);
      color:#000; border-radius:8px; font-weight:bold; text-decoration:none;
      transition:all .3s ease; box-shadow:0 4px 10px rgba(255,215,0,0.3);
    }
    .cta-buttons a:hover { transform:translateY(-3px); box-shadow:0 6px 15px rgba(255,215,0,0.5); }

    footer {
      position:fixed; bottom:0; left:0; right:0;
      background:#111; border-top:2px solid #ffd700;
      padding:10px 0; display:flex; justify-content:space-around; align-items:center;
    }
    footer a { color:#ffd700; text-decoration:none; font-size:14px; font-weight:bold; display:flex; flex-direction:column; align-items:center; }
    footer a i { font-size:18px; margin-bottom:4px; }
    footer a:hover { color:#ffa500; }
  </style>
</head>
<body>
  <header>
    <div class="logo">RealityLottery</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="login.html">Login</a>
      <a href="register.html">Register</a>
      <a href="subscribe.html">Subscribe</a>
    </nav>
  </header>

  <section class="hero">
    <h1>Welcome to RealityLottery</h1>
    <p>
      Join our exciting lottery platform where every subscription increases your chances to win amazing rewards!  
      Invite friends, earn referral bonuses, and be part of the ultimate lottery experience.  
    </p>
    <div class="cta-buttons">
      <a href="register.html"><i class="fas fa-user-plus"></i> Get Started</a>
      <a href="subscribe.html"><i class="fas fa-star"></i> View Plans</a>
    </div>
  </section>

  <footer>
    <a href="index.html"><i class="fas fa-home"></i>Home</a>
    <a href="login.html"><i class="fas fa-sign-in-alt"></i>Login</a>
    <a href="register.html"><i class="fas fa-user-plus"></i>Register</a>
    <a href="subscribe.html"><i class="fas fa-star"></i>Subscribe</a>
  </footer>
</body>
</html>  <div class="container" style="padding:16px;display:flex;justify-content:space-between;align-items:center">
    <div class="muted">© <span id="year"></span> RealityLottery. All rights reserved.</div>
    <div class="muted">Build your luck responsibly.</div>
  </div>
</footer>

<script>
  const API_BASE = 'https://realitylottery.koyeb.app';
  const year = new Date().getFullYear(); document.getElementById('year').textContent = year;

  // auth UI
  (function(){
    const token = localStorage.getItem('rl_token');
    const loginLink = document.getElementById('loginLink');
    const logoutLink = document.getElementById('logoutLink');
    if (token) {
      loginLink.style.display = 'none';
      logoutLink.style.display = 'inline';
      logoutLink.addEventListener('click', (e)=>{ e.preventDefault(); localStorage.clear(); location.reload(); });
    }
  })();

  async function loadContent(){
    try{
      const c = await fetch(API_BASE + '/api/content').then(r=>r.json());
      // hero
      if (c.heroTitle) document.getElementById('heroTitle').textContent = c.heroTitle;
      if (c.heroSubtitle) document.getElementById('heroSubtitle').textContent = c.heroSubtitle;
      if (c.mainButton) document.getElementById('mainButton').textContent = c.mainButton;
      if (c.heroImage) document.getElementById('heroImage').src = c.heroImage.startsWith('http')? c.heroImage : (API_BASE + c.heroImage);

      // slides
      if (c.slide1Url) document.getElementById('slide1Url').src = c.slide1Url;
      if (c.slide1Title) document.getElementById('slide1Title').textContent = c.slide1Title;
      if (c.slide2Url) document.getElementById('slide2Url').src = c.slide2Url;
      if (c.slide2Title) document.getElementById('slide2Title').textContent = c.slide2Title;

      // about
      if (c.aboutText) document.getElementById('aboutText').textContent = c.aboutText;
      if (c.aboutImage) document.getElementById('aboutImage').src = c.aboutImage.startsWith('http')? c.aboutImage : (API_BASE + c.aboutImage);

      // participants
      if (c.countries) {
        let list = c.countries;
        try { list = JSON.parse(c.countries); } catch(e){}
        const top = (list || []).slice(0,3).map(x=>`${x.code}: ${x.participants}`).join(' • ');
        document.getElementById('participants').textContent = top || 'No data';
      }

      // partners
      if (c.partners) {
        let ps = c.partners;
        try { ps = JSON.parse(c.partners); } catch(e){}
        const wrap = document.getElementById('partners');
        wrap.innerHTML = (ps||[]).map(p=>`
          <div class="card" style="display:flex;gap:12px;align-items:center">
            <img src="${p.logo}" alt="${p.name}" style="height:40px;border-radius:6px;border:1px solid rgba(255,215,0,0.3)">
            <div>${p.name}</div>
          </div>`).join('');
      }
    }catch(e){ console.error(e); }
  }

  async function loadStatus(){
    try{
      const s = await fetch(API_BASE + '/api/lottery/status').then(r=>r.json());
      document.getElementById('jackpotAmount').textContent = Number(s.jackpotAmount||0).toLocaleString();
      document.getElementById('ticketPrice').textContent = Number(s.ticketPrice||0).toFixed(2);
      const dt = new Date(s.nextDrawDate || new Date()); 
      document.getElementById('nextDrawDate').textContent = dt.toLocaleString();
    }catch(e){ console.error(e); }
  }

  loadContent();
  loadStatus();
</script>
</body>
</html>
